@model EEIMS.Models.UpdateEmployeeViewModel

@{
    ViewBag.Title = "DetailsAdminUse";
}

<div class="container-fluid px-4">
    <h3 class="mt-4">Verify Employee Detail</h3>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="@Url.Action("AdminDashboard", "Admin")">Dashboard</a></li>
        <li class="breadcrumb-item"><a href="@Url.Action("Index", "Employee")">Employee List</a></li>
        <li class="breadcrumb-item active">Employee Detail</li>
    </ol>

    @using (Html.BeginForm("UpdateEmployee", "Employee", FormMethod.Post, new { id = "employeeUpdateForm", @class = "needs-validation", @novalidate = "novalidate" }))
    {
        @Html.HiddenFor(model => model.Id)

        <div class="row g-3">
            <div class="col-md-2">
                <label for="EmployeeId" class="form-label">Employee ID:</label>
                @Html.TextBoxFor(model => model.EmployeeId, new { id = "EmployeeId", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-5">
                <label for="FirstName" class="form-label">First Name:</label>
                @Html.TextBoxFor(model => model.FirstName, new { id = "FirstName", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-5">
                <label for="LastName" class="form-label">Last Name:</label>
                @Html.TextBoxFor(model => model.LastName, new { id = "LastName", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-4">
                <label for="Designation" class="form-label">Designation:</label>
                @Html.TextBoxFor(model => model.Designation, new { id = "Designation", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-4">
                <label for="Department" class="form-label">Department:</label>
                @Html.TextBoxFor(model => model.Department, new { id = "Department", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>
            <div class="col-md-4">
                <label for="Organization" class="form-label">Organization:</label>
                @Html.TextBoxFor(model => model.Organization, new { id = "Organization", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-4">
                <label for="PhoneNumber" class="form-label">Phone Number:</label>
                @Html.TextBoxFor(model => model.PhoneNumber, new { id = "PhoneNumber", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>

            <div class="col-md-8">
                <label for="Email" class="form-label">Email:</label>
                @Html.TextBoxFor(model => model.Email, new { id = "Email", @readonly = "readonly", @class = "form-control", required = "required" })
            </div>


            <div class="col-12 d-flex justify-content-center">
                <div class="form-check form-switch">
                    @Html.CheckBoxFor(model => model.IsVerified, new { id = "IsVerified", @class = "form-check-input", style = "transform: scale(1.5);" })
                    <label class="form-check-label ms-3" for="IsVerified" style="font-size: 1.2rem;">Is Verified</label>
                </div>
            </div>

            <div class="col-12 d-flex justify-content-center">
                <input type="submit" value="update" class="btn btn-primary" />
            </div>
        </div>
    }
</div>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
        <script>
            $(document).ready(function () {

                $('.form-control').on('dblclick', function () {
                    $(this).prop('readonly', false);
                });

                $('.form-control').on('blur', function () {
                    $(this).prop('readonly', true);
                });

                $('#employeeUpdateForm').on('submit', function (event) {
                    event.preventDefault();
                    $.ajax({
                        url: $(this).attr('action'),
                        type: $(this).attr('method'),
                        data: $(this).serialize(),
                        success: function (data) {
                            console.log(data);
                            $.notify("Succefully Updated", "success");
                        },
                        error: function (error) {
                            console.log("Please, Try again !" + error);
                        }
                    });
                });
            });
        </script>
    }

